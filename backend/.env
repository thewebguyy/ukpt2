# ============================================
# Customise MERCH UK - ENVIRONMENT VARIABLES
# ============================================
# SECURITY WARNING: Never commit this file to Git!
# Add .env to your .gitignore file
# ============================================

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=production
# Options: development, production, staging

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=5000
API_VERSION=v1

# ============================================
# DATABASE - MONGODB
# ============================================
# Local MongoDB
# MONGODB_URI=mongodb://localhost:27017/creative-merch-uk

# MongoDB Atlas (Production - RECOMMENDED)
MONGODB_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/creative-merch-uk?retryWrites=true&w=majority
# Get free cluster at: https://www.mongodb.com/cloud/atlas
# Replace 'username', 'password', and 'cluster0.xxxxx' with your actual values

# ============================================
# JWT SECRETS (CRITICAL - MUST BE SECURE!)
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

JWT_SECRET=your-super-secret-jwt-access-token-key-change-this-in-production-min-64-chars
JWT_REFRESH_SECRET=your-super-secret-jwt-refresh-token-key-different-from-access-token-min-64-chars

JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# SESSION SECRET
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=your-super-secret-session-key-change-this-in-production-min-64-characters
SESSION_MAX_AGE=86400000
# 86400000ms = 24 hours

# ============================================
# FRONTEND URLs
# ============================================
# Development
# FRONTEND_URL=http://localhost:3000

# Production
FRONTEND_URL=https://www.customisemeuk.com

# Admin Dashboard URL
ADMIN_URL=https://www.customisemeuk.com/admin

# CORS Origins (comma-separated for multiple origins)
CORS_ORIGINS=https://www.customisemeuk.com,https://customisemeuk.com

# ============================================
# STRIPE PAYMENT INTEGRATION
# ============================================
# Test Keys (for development)
# Get from: https://dashboard.stripe.com/test/apikeys
# STRIPE_SECRET_KEY=sk_test_your_test_secret_key_here
# STRIPE_PUBLISHABLE_KEY=pk_test_your_test_publishable_key_here
# STRIPE_WEBHOOK_SECRET=whsec_your_test_webhook_secret_here

# Live Keys (for production)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your_live_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_live_webhook_secret_here

# ============================================
# EMAIL CONFIGURATION (Gmail)
# ============================================
EMAIL_USER=your-email@gmail.com
# Generate App Password: https://myaccount.google.com/apppasswords
# Steps:
# 1. Enable 2FA on your Google account
# 2. Go to https://myaccount.google.com/apppasswords
# 3. Select "Mail" and "Other (Custom name)"
# 4. Copy the 16-character password
EMAIL_PASSWORD=your-16-character-app-password

EMAIL_FROM="Customise Me UK" <noreply@customisemeuk.com>
ADMIN_EMAIL=info@customisemeuk.com

# ============================================
# REDIS (Required for Production)
# ============================================
# Local Redis
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# Redis Cloud (Production - RECOMMENDED)
# Get free instance at: https://redis.com/try-free/
REDIS_HOST=redis-12345.c123.us-east-1-1.ec2.cloud.redislabs.com
REDIS_PORT=12345
REDIS_PASSWORD=your-redis-password-here

# ============================================
# SECURITY SETTINGS
# ============================================
BCRYPT_ROUNDS=12
# Higher = more secure but slower (10-12 recommended)

MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900000
# 900000ms = 15 minutes

PASSWORD_RESET_EXPIRES=3600000
# 3600000ms = 1 hour

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
# 900000ms = 15 minutes

RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window

# ============================================
# FILE UPLOAD SETTINGS
# ============================================
MAX_FILE_SIZE=5242880
# 5242880 bytes = 5MB

ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
# Options: error, warn, info, http, verbose, debug, silly

LOG_FILE_PATH=./logs/app.log
ERROR_LOG_FILE_PATH=./logs/error.log

# ============================================
# ERROR MONITORING (Sentry)
# ============================================
# Get free account at: https://sentry.io/
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_DSN=

# Email on Critical Errors
ERROR_EMAIL_ENABLED=true

# ============================================
# GOOGLE OAUTH (Optional)
# ============================================
# Get credentials at: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://www.customisemeuk.com/api/auth/google/callback

# ============================================
# CLOUD STORAGE (AWS S3 or Cloudinary)
# ============================================

# AWS S3 (for file uploads)
# Get credentials at: https://aws.amazon.com/s3/
# AWS_ACCESS_KEY_ID=your-aws-access-key-id
# AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
# AWS_REGION=eu-west-2
# AWS_S3_BUCKET=creative-merch-uk-uploads

# Cloudinary (Alternative - easier setup)
# Get free account at: https://cloudinary.com/
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# ============================================
# QUICK SETUP CHECKLIST
# ============================================
#
# âœ… 1. Generate JWT Secrets:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#    Run twice for JWT_SECRET and JWT_REFRESH_SECRET
#
# âœ… 2. Generate Session Secret:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# âœ… 3. MongoDB Atlas:
#    â€¢ Sign up at mongodb.com/cloud/atlas
#    â€¢ Create free cluster
#    â€¢ Add database user
#    â€¢ Whitelist IP (0.0.0.0/0 for all IPs)
#    â€¢ Get connection string
#
# âœ… 4. Stripe:
#    â€¢ Sign up at stripe.com
#    â€¢ Get API keys from Dashboard
#    â€¢ Set up webhook endpoint
#
# âœ… 5. Gmail App Password:
#    â€¢ Enable 2FA on Gmail
#    â€¢ Generate app password
#    â€¢ Use 16-character password (no spaces)
#
# âœ… 6. Redis:
#    â€¢ Sign up at redis.com
#    â€¢ Create free instance
#    â€¢ Get connection details
#
# âœ… 7. Update Frontend URL:
#    â€¢ Set to your actual domain
#    â€¢ Update CORS_ORIGINS
#
# âœ… 8. Optional Services:
#    â€¢ Sentry for error tracking
#    â€¢ Google OAuth
#    â€¢ AWS S3 or Cloudinary for file storage
#
# ============================================
# SECURITY REMINDERS
# ============================================
#
# ðŸ”’ NEVER commit this file to Git!
# ðŸ”’ Use different secrets for production vs development
# ðŸ”’ Generate cryptographically secure random strings
# ðŸ”’ Keep secrets minimum 32 characters (64+ recommended)
# ðŸ”’ Rotate secrets periodically
# ðŸ”’ Use environment variables in production hosting
# ðŸ”’ Enable 2FA on all service accounts
# ðŸ”’ Restrict API keys to specific domains/IPs
# ðŸ”’ Monitor for unauthorized access attempts
#
# ============================================